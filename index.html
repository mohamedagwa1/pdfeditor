<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Editor - No Download</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">  
            <div class="controls">
                <label for="fileInput" class="btn btn-primary">
                    <input type="file" id="fileInput" accept=".pdf" style="display: none;">
                    Open
                </label>
                <button id="saveBtn" class="btn btn-success" disabled>Save</button>
                <button id="clearBtn" class="btn btn-danger" disabled>Clear</button>
            </div>
        </header>

        <div class="toolbar" id="toolbar" style="display: none;">
            <div class="tool-group">
                <label>Tool:</label>
                <button class="tool-btn active" data-tool="select" title="Select/Move">‚úã</button>
                <button class="tool-btn" data-tool="text" title="Add Text">T</button>
                <button class="tool-btn" data-tool="draw" title="Draw">‚úèÔ∏è</button>
                <button class="tool-btn" data-tool="highlight" title="Highlight">üñçÔ∏è</button>
                <button class="tool-btn" data-tool="image" title="Add Image">üñºÔ∏è</button>
                <button class="tool-btn" data-tool="erase" title="Erase">ü©π</button>
            </div>
            <div class="tool-group">
                <button id="openTextSettings" class="btn btn-small" title="Text settings">T ‚öôÔ∏è</button>
                <button id="openDrawSettings" class="btn btn-small" title="Draw settings">‚úèÔ∏è ‚öôÔ∏è</button>
                <button id="openHighlightSettings" class="btn btn-small" title="Highlight settings">üñçÔ∏è ‚öôÔ∏è</button>
                <!-- <button id="openImageSettings" class="btn btn-small" title="Image settings">Image ‚öôÔ∏è</button> -->
            </div>
            <div class="tool-group">
                <button id="undoBtn" class="btn btn-small" title="Undo last action (Ctrl+Z)">‚Ü©Ô∏è</button>
            </div>
        </div>

        <div class="main-content">
            <div class="pdf-viewer-container">
                <div id="pdfContainer" class="pdf-container">
                    <div class="placeholder">
                        <p>üìÑ Select a PDF file to begin editing</p>
                    </div>
                </div>
                <div class="viewer-controls" id="viewerControls" style="display: none;">
                    <button id="prevPage" class="btn btn-small">‚Üê Previous</button>
                    <span id="pageInfo">Page 1 of 1</span>
                    <button id="nextPage" class="btn btn-small">Next ‚Üí</button>
                    <input type="number" id="zoomInput" value="100" min="25" max="200" step="25">
                    <span>%</span>
                </div>
            </div>
        </div>

        <div id="statusBar" class="status-bar" style="display: none;">
            <span id="statusText">Ready</span>
        </div>
    </div>

    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <p>Loading PDF, please wait...</p>
    </div>

        <div id="textSettingsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Text Settings</h2>
                <div class="modal-group">
                    <label for="textContentInput">Text:</label>
                    <input type="text" id="textContentInput" placeholder="Enter text">
                </div>
                <div class="modal-group">
                    <label for="textColorInput">Color:</label>
                    <input type="color" id="textColorInput" value="#ff0000">
                </div>
                <div class="modal-group">
                    <label for="textSizeInput">Size:</label>
                    <input type="range" id="textSizeInput" min="1" max="20" value="3">
                    <span id="textSizeValue">3</span>
                </div>
                <div class="modal-actions">
                    <button id="closeTextSettings" class="btn btn-small btn-danger">Close</button>
                    <button id="applyTextSettings" class="btn btn-small btn-success">Apply</button>
                </div>
            </div>
        </div>

        <div id="drawSettingsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Draw Settings</h2>
                <div class="modal-group">
                    <label for="drawColorInput">Color:</label>
                    <input type="color" id="drawColorInput" value="#ff0000">
                </div>
                <div class="modal-group">
                    <label for="drawSizeInput">Size:</label>
                    <input type="range" id="drawSizeInput" min="1" max="20" value="3">
                    <span id="drawSizeValue">3</span>
                </div>
                <div class="modal-actions">
                    <button id="closeDrawSettings" class="btn btn-small btn-danger">Close</button>
                    <button id="applyDrawSettings" class="btn btn-small btn-success">Apply</button>
                </div>
            </div>
        </div>

        <div id="highlightSettingsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Highlight Settings</h2>
                <div class="modal-group">
                    <label for="highlightColorInput">Color:</label>
                    <input type="color" id="highlightColorInput" value="#ffff00">
                </div>
                <div class="modal-group">
                    <label for="highlightOpacityInput">Opacity:</label>
                    <input type="range" id="highlightOpacityInput" min="0.1" max="1" step="0.1" value="0.3">
                    <span id="highlightOpacityValue">0.3</span>
                </div>
                <div class="modal-actions">
                    <button id="closeHighlightSettings" class="btn btn-small btn-danger">Close</button>
                    <button id="applyHighlightSettings" class="btn btn-small btn-success">Apply</button>
                </div>
            </div>
        </div>

        <div id="imageSettingsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Image Settings</h2>
                <div class="modal-group">
                    <label for="imageFileInput">Image:</label>
                    <input type="file" id="imageFileInput" accept="image/*">
                </div>
                <div class="modal-group">
                    <label for="imageScaleInput">Size:</label>
                    <input type="range" id="imageScaleInput" min="0.2" max="3" step="0.1" value="1">
                    <span id="imageScaleValue">1.0</span>
                </div>
                <div class="modal-actions">
                    <button id="closeImageSettings" class="btn btn-small btn-danger">Close</button>
                    <button id="applyImageSettings" class="btn btn-small btn-success">Apply</button>
                </div>
            </div>
        </div>

    <canvas id="annotationCanvas" style="display: none;"></canvas>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

